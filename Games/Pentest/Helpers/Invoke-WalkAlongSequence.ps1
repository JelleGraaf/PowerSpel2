function Invoke-WalkAlongSequence {
    <#
    .SYNOPSIS
        Checks to see if you can walk along through a locked with an employee and adjusts the game accordingly.

    .DESCRIPTION
        - Checks to see if you revisit room 504951 ($State.RoomsVisited contains 504951).
        - Adds a helpful employee option to the room if so.
        - Removes the helpful employee option if you have a key card
    #>


    <#
    # Check for keycard in inventory. If it is, don't add helpful employee to the room. If it already has been added, remove it from the room.
    if ($State.Inventory -contains "A yellow key Card" -or $State.Inventory -contains "A red key Card" -or $State.Inventory -contains "A black key Card") {
        if ($World.'504951'.Exits.South.LockedDoor -eq $false) {
            Write-Host "Should reload original room" -ForegroundColor Magenta
            Pause
            $World.'504951' = Get-Content "$PSScriptRoot\..\Rooms\Floor 1\Room504951.json" | ConvertFrom-Json -AsHashtable
        }
        else {
            return
        }
    }
#>

    # Check to see if this is the first time you are in the room. If so, add the helpful employee to the room, for the next visit.
    if ($State.CurrentRoom -eq '504951' -and $State.WalkAlongSequenceCounter % 2 -eq 1) {
        Write-Host "Should present employee to walk along with" -ForegroundColor Magenta
        Pause
        $World.'504951'.Exits.South.LockedDoor = $false
        $World.'504851'.Exits.North.LockedDoor = $false
    }
    elseif ($State.CurrentRoom -eq '504951' -and $State.WalkAlongSequenceCounter % 2 -eq 0) {
        Write-Host "Should remove employee" -ForegroundColor Magenta
        Pause
        $World.'504951'.Exits.South.LockedDoor = $true
        $World.'504851'.Exits.North.LockedDoor = $true

    }

    if ($State.CurrentRoom -eq '504951') { 
        $State.WalkAlongSequenceCounter++
    }

}
